var clientDiv = document.getElementById("clients");

clientDiv.addEventListener('click', function (event) {
    // Check if the clicked element is a child of the "clients" div
    if (event.target.parentElement === clientDiv) {
       var data = getData(event.target.innerHTML);
    }
});



function getData(id){
    const loginData = {
        vatnumber: id,
    };

    fetch("/getClientFaturat", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify(loginData),
    })
        .then((response) => {
            if (response.ok) {
                return response.json();
            } else if (response.status === 401) {
                // Incorrect password
                return response.json();
            } else {
                // Handle other response status codes or errors
                throw new Error("An error occurred");
            }
        })
        .then((data) => {
            if (data.message != "Login successful") {
                var error = document.getElementById("error");
                error.innerHTML = data.message;
                console.log(data);
            } else {
                var routeUrl = "/index";
                window.location.href = routeUrl;
            }
        })
        .catch((error) => {
            console.error(error);
        });
}
